type: grid
column_span: 1
cards:
  # -------------- Section for Zebra Haworthia --------------
  - type: custom:mushroom-title-card
    title: "Zebra Haworthia"
    subtitle: "Haworthia fasciata"
    card_mod:
      attributes:
        title: "Zebra Haworthia"
  
  # Centered chip row (overall + per-signal)
  - type: custom:mushroom-chips-card
    alignment: center
    chips:
      - type: template
        entity: binary_sensor.haworthia_fasciata_all_ok
        content: "{{ 'All Good' if is_state(entity, 'on') else 'Needs Attention' }}"
        icon: "{{ 'mdi:check-circle' if is_state(entity,'on') else 'mdi:alert-circle' }}"
        icon_color: "{{ 'green' if is_state(entity,'on') else 'red' }}"
      - type: template
        entity: binary_sensor.haworthia_fasciata_light_ok
        content: "Light Level: {{ 'OK' if is_state(entity, 'on') else 'Problem' }}"
        icon: "{{ 'mdi:check-circle' if is_state(entity,'on') else 'mdi:alert-circle' }}"
        icon_color: "{{ 'green' if is_state(entity,'on') else 'red' }}"
      - type: template
        entity: binary_sensor.haworthia_fasciata_temperature_ok
        content: "Temperature: {{ 'OK' if is_state(entity, 'on') else 'Problem' }}"
        icon: "{{ 'mdi:check-circle' if is_state(entity,'on') else 'mdi:alert-circle' }}"
        icon_color: "{{ 'green' if is_state(entity,'on') else 'red' }}"
      - type: template
        entity: binary_sensor.haworthia_fasciata_moisture_ok
        content: "Moisture: {{ 'OK' if is_state(entity, 'on') else 'Problem' }}"
        icon: "{{ 'mdi:check-circle' if is_state(entity,'on') else 'mdi:alert-circle' }}"
        icon_color: "{{ 'green' if is_state(entity,'on') else 'red' }}"
      - type: template
        entity: binary_sensor.haworthia_fasciata_ec_ok
        content: "Conductivity: {{ 'OK' if is_state(entity, 'on') else 'Problem' }}"
        icon: "{{ 'mdi:check-circle' if is_state(entity,'on') else 'mdi:alert-circle' }}"
        icon_color: "{{ 'green' if is_state(entity,'on') else 'red' }}"
  
  # 2-column metric grid (Temperature, Light, Moisture, Conductivity)
  - square: false
    type: grid
    columns: 2
    cards:
      - type: custom:mushroom-template-card
        entity: sensor.haworthia_fasciata_temperature_routed
        primary: Temperature
        secondary: >
          {%- from 'units/base.jinja' import u_convert_value, u_humanize_value, u_humanize_entity -%}
          {%- set temp_min_f = u_humanize_value(u_convert_value(states('sensor.haworthia_fasciata_temp_min'), 'c', 'f'), 'Â°F') -%}
          {%- set temp_max_f = u_humanize_value(u_convert_value(states('sensor.haworthia_fasciata_temp_max'), 'c', 'f'), 'Â°F') -%}
          {{ 'Current: ' ~ u_humanize_entity(entity) }}
          {{ '\nRange: ' ~ temp_min_f ~ 'â€“' ~ temp_max_f }}
        icon: mdi:thermometer
        color: "{{ 'green' if is_state('binary_sensor.haworthia_fasciata_temperature_ok','on') else 'red' }}"
        multiline_secondary: true
  
      - type: custom:mushroom-template-card
        entity: sensor.haworthia_fasciata_illuminance_routed
        primary: Light
        secondary: >
          {%- from 'units/base.jinja' import u_humanize_entity, u_humanize_value -%}
          {%- set light_min_lux = u_humanize_value(states('sensor.haworthia_fasciata_light_min_lux')) -%}
          {%- set light_max_lux = u_humanize_value(states('sensor.haworthia_fasciata_light_max_lux'), 'lx') -%}
          {{ 'Current: ' ~ u_humanize_entity(entity) }}
          {{ '\nRange: ' ~ light_min_lux ~ 'â€“' ~ light_max_lux }}
        icon: mdi:white-balance-sunny
        color: "{{ 'green' if is_state('binary_sensor.haworthia_fasciata_light_ok','on') else 'red' }}"
        multiline_secondary: true
  
      - type: custom:mushroom-template-card
        entity: sensor.haworthia_fasciata_moisture_routed
        primary: Moisture
        secondary: >
          {%- from 'units/base.jinja' import u_humanize_entity, u_humanize_value -%}
          {%- set moist_min_pct = u_humanize_value(states('sensor.haworthia_fasciata_moisture_min'), '%') -%}
          {%- set moist_max_pct = u_humanize_value(states('sensor.haworthia_fasciata_moisture_max'), '%') -%}
          {{ 'Current: ' ~ u_humanize_entity(entity) }}
          {{ '\nRange: ' ~ moist_min_pct ~ 'â€“' ~ moist_max_pct }}
        icon: mdi:water-percent
        color: "{{ 'green' if is_state('binary_sensor.haworthia_fasciata_moisture_ok','on') else 'red' }}"
        multiline_secondary: true
  
      - type: custom:mushroom-template-card
        entity: sensor.haworthia_fasciata_conductivity_routed
        primary: Conductivity
        secondary: >
          {%- from 'units/base.jinja' import u_humanize_entity, u_humanize_value -%}
          {%- set cond_min_uscm = u_humanize_value(states('sensor.haworthia_fasciata_ec_min')) -%}
          {%- set cond_max_uscm = u_humanize_value(states('sensor.haworthia_fasciata_ec_max')) -%}
          {{ 'Current: ' ~ u_humanize_entity(entity) }}
          {{ '\nRange: ' ~ cond_min_uscm ~ 'â€“' ~ cond_max_uscm ~ ' ÂµS/cm' }}
        icon: mdi:flash
        color: "{{ 'green' if is_state('binary_sensor.haworthia_fasciata_ec_ok','on') else 'red' }}"
        multiline_secondary: true
  
  # Care summary (markdown-like), matching your Bodhi pattern
  - type: markdown
    content: |
      {% set ok = {
        'temp': is_state('binary_sensor.haworthia_fasciata_temperature_ok','on'),
        'light': is_state('binary_sensor.haworthia_fasciata_light_ok','on'),
        'moist': is_state('binary_sensor.haworthia_fasciata_moisture_ok','on'),
        'cond': is_state('binary_sensor.haworthia_fasciata_ec_ok','on')
      } %}
      {% set overall_ok = (ok.temp and ok.light and ok.moist and ok.cond) %}
      **{{ 'âœ… All Good!' if overall_ok else 'âš ï¸ Needs Attention' }}:** {{ states('sensor.haworthia_fasciata_care_notes') }}
  
      ---
      **ğŸŒ¤ Sunlight:** {{ state_attr('sensor.haworthia_fasciata_care_notes','sunlight') or states('sensor.haworthia_fasciata_care_notes') }}
      **ğŸš¿ Watering:** {{ state_attr('sensor.haworthia_fasciata_care_notes','watering') or 'â€”' }}
      **ğŸŒ± Fertilization:** {{ state_attr('sensor.haworthia_fasciata_care_notes','fertilization') or 'â€”' }}
      **âœ‚ï¸ Pruning:** {{ state_attr('sensor.haworthia_fasciata_care_notes','pruning') or 'â€”' }}
      **ğŸª´ Soil:** {{ state_attr('sensor.haworthia_fasciata_care_notes','soil') or 'â€”' }}
      **ğŸ“ Notes:** {{ state_attr('sensor.haworthia_fasciata_care_notes','floral_language') or 'â€”' }}
  
  # Photo (exactly like your Bodhi example uses local/ with spaces)
  - type: picture
    image: "local/images/haworthia fasciata.jpg"
