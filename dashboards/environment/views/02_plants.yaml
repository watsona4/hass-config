type: sections
max_columns: 2
title: Plants
path: plants
badges:
  - type: custom:mushroom-template-badge
    entity: sensor.plants_location
    icon: "{{ 'mdi:home' if is_state(entity,'Inside') else 'mdi:tree' if is_state(entity,'Outside') else 'mdi:sprout' }}"
    color: "{{ 'blue' if is_state(entity,'Inside') else 'green' if is_state(entity,'Outside') else 'amber' }}"
    content: "{{ 'Plants Location: ' ~ states(entity) }}"
  - type: custom:mushroom-template-badge
    entity: sensor.plants_location_reason
    content: "{{ 'Location Reason: ' ~ (states(entity) or 'â€”') }}"
    icon: mdi:comment-text
    color: blue
  - type: custom:mushroom-template-badge
    entity: sensor.plants_location_changed
    icon: mdi:clock-outline
    content: >
      {% set p = state_attr(entity,'pretty') %}
      {{ 'Last Changed: ' ~ (p if p else 'never') }}
sections:
  - type: grid
    cards:
      - type: custom:mushroom-title-card
        title: ğŸŒ¿ Bodhi Tree Status
      - type: custom:mushroom-chips-card
        chips:
          - type: template
            entity: binary_sensor.bodhi_all_ok
            content: "{{ 'All good' if is_state(entity,'on') else 'Needs attention' }}"
            icon: "{{ 'mdi:check-circle' if is_state(entity,'on') else 'mdi:alert-circle' }}"
            icon_color: "{{ 'green' if is_state(entity,'on') else 'red' }}"
          - type: template
            entity: sensor.bodhi_care_action
            content: "{{ states(entity) }}"
            icon: mdi:leaf
            icon_color: green
        alignment: center
      - square: false
        type: grid
        columns: 2
        cards:
          - type: custom:mushroom-template-card
            entity: sensor.bodhi_temperature_degf
            primary: Temperature
            secondary: >
              {% from 'units/base.jinja' import u_humanize_entity %}
              {{ 'Current: ' ~ u_humanize_entity(entity) }}
              {{ '\nRange: ' ~ states('sensor.bodhi_temperature_range') }}
            icon: mdi:thermometer
            color: "{{ 'green' if is_state('binary_sensor.bodhi_temp_ok','on') else 'red' }}"
            multiline_secondary: true
          - type: custom:mushroom-template-card
            entity: sensor.bodhi_light_lux
            primary: Light
            secondary: |
              {% from 'units/base.jinja' import u_humanize_entity %}
              {{ 'Current: ' ~ u_humanize_entity(entity) }}
              {{ 'Range: ' ~ states('sensor.bodhi_light_range') }}
            icon: mdi:white-balance-sunny
            color: "{{ 'green' if is_state('binary_sensor.bodhi_light_ok','on') else 'red' }}"
            multiline_secondary: true
          - type: custom:mushroom-template-card
            entity: sensor.bodhi_moisture
            primary: Moisture
            secondary: |
              {% from 'units/base.jinja' import u_humanize_entity %}
              {{ 'Current: ' ~ u_humanize_entity(entity) }}
              {{ 'Range: ' ~ states('sensor.bodhi_moisture_range') }}
            icon: mdi:white-balance-sunny
            color: "{{ 'green' if is_state('binary_sensor.bodhi_moisture_ok','on') else 'red' }}"
            multiline_secondary: true
          - type: custom:mushroom-template-card
            entity: sensor.bodhi_conductivity_ms_cm
            primary: Conductivity
            secondary: |
              {% from 'units/base.jinja' import u_humanize_entity %}
              {{ 'Current: ' ~ u_humanize_entity(entity) }}
              {{ 'Range: ' ~ states('sensor.bodhi_conductivity_range') }}
            icon: mdi:white-balance-sunny
            color: "{{ 'green' if is_state('binary_sensor.bodhi_conductivity_ok','on') else 'red' }}"
            multiline_secondary: true
      - type: markdown
        content: >
          {% set ok = {
            'temp': is_state('binary_sensor.bodhi_temp_ok','on'),
            'light': is_state('binary_sensor.bodhi_light_ok','on'),
            'moist': is_state('binary_sensor.bodhi_moisture_ok','on'),
            'cond': is_state('binary_sensor.bodhi_conductivity_ok','on')
          } %}
          {% set action = states('sensor.bodhi_care_action') %}
          {% set overall_ok = (ok.temp and ok.light and ok.moist and ok.cond) %}
          {{ '**' ~ ('âœ… All Good!' if overall_ok else 'âš ï¸ Needs Attention') ~ '**: ' ~ action }}
          {{ '\n---' }}
          {{ '\n**ğŸŒ¤ Sunlight:** ' ~ states('sensor.bodhi_sunlight') }}
          {{ '\n**ğŸš¿ Watering:** ' ~ states('sensor.bodhi_watering') }}   
          {{ '\n**ğŸŒ± Fertilization:** ' ~ states('sensor.bodhi_fertilization') }}   
          {{ '\n**âœ‚ï¸ Pruning:** ' ~ states('sensor.bodhi_pruning') }}   
          {{ '\n**ğŸª´ Soil:** ' ~ states('sensor.bodhi_soil') }}   
          {{ '\n**ğŸ“ Notes:** ' ~ states('sensor.bodhi_notes') }}
      - type: picture
        image: "local/images/ficus religiosa.jpg"
