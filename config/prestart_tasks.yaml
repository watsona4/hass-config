# Tasks executed before Home Assistant starts inside the container.
tasks:
  - name: generate_plant_assets
    cwd: /config
    run:
      - python3
      - scripts/generate_plant_assets.py
      - --csv=custom_components/PlantDB_5335_U0.csv
      - --names
      - "ficus religiosa"
      - "hedera helix"
      - "haworthia fasciata"
      - --out-packages=packages/plants
      - --out-sections=dashboards/environment/plant_sections
      - --router-file=packages/plants/plant_sensor_router.yaml

  - name: render_strava_templates
    cwd: /config
    run:
      - python3
      - scripts/render_templates.py
      - --template-root=.
      - --template=templates/strava.j2
      - --out=packages/strava.yaml
      - --var=count=20

  - name: render_xert_templates
    cwd: /config
    run:
      - python3
      - scripts/render_templates.py
      - --template-root=.
      - --template=templates/xert_activities.j2
      - --out=packages/xert_activities.yaml
      - --var=count=50
