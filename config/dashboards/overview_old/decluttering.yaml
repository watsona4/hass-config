title_card:
  card:
    type: custom:mushroom-title-card
    title: '[[title]]'
    subtitle: '[[subtitle]]'
template_card:
  default:
    - multiline_secondary: false
    - tap_action:
        action: more-info
  card:
    type: custom:mushroom-template-card
    entity: '[[entity]]'
    icon: '[[icon]]'
    icon_color: '[[icon_color]]'
    primary: '[[primary]]'
    secondary: '[[secondary]]'
    multiline_secondary:
      - multiline_secondary
    tap_action:
      - tap_action
new_template_card:
  default:
    - multiline_secondary: false
    - tap_action:
        action: more-info
  card:
    type: custom:mushroom-template-card
    entity: '[[entity]]'
    icon: |-
      {%- from 'main.jinja' import get_icon -%}
      {{ get_icon(entity, '[[app]]') }}
    icon_color: |-
      {%- from 'main.jinja' import get_color -%}
      {{ get_color(entity, '[[app]]') }}
    primary: |-
      {%- from 'main.jinja' import get_name -%}
      {{ get_name(entity, '[[app]]') }}
    secondary: |-
      {%- from 'main.jinja' import get_label -%}
      {{ get_label(entity, '[[app]]') }}
    badge_icon: |-
      {%- from 'main.jinja' import get_badge -%}
      {{ get_badge(entity, '[[app]]') }}
    badge_color: |-
      {%- from 'main.jinja' import get_color -%}
      {{ get_color(entity, '[[app]]') }}
    multiline_secondary:
      - multiline_secondary
    tap_action:
      - tap_action
climate_card:
  card:
    type: custom:mushroom-climate-card
    entity: '[[entity]]'
    name: '[[name]]'
    tap_action:
      action: more-info
humidifier_card:
  card:
    type: custom:mushroom-humidifier-card
    entity: '[[entity]]'
    name: '[[name]]'
    tap_action:
      action: more-info
numeric_card:
  default:
    - temp_unit: c
    - secondary_state: ""
  card:
    type: custom:decluttering-card
    template: template_card
    variables:
      - entity: '[[entity]]'
      - icon: '[[icon]]'
      - icon_color: '[[icon_color]]'
      - primary: '[[primary]]'
      - secondary: >-
          {% from 'hwmon.jinja' import hw_secondary %} {% set v =
          states(entity) | float(0) %} {% set extra %}[[secondary_state]]{%
          endset %} {{ hw_secondary(entity, temp='[[temp_unit]]') }}{% if
          extra %} Â· {{ extra }}{% endif %}
      - tap_action:
          - tap_action
numeric_color_card:
  card:
    type: custom:decluttering-card
    template: numeric_card
    variables:
      - entity: '[[entity]]'
      - icon: '[[icon]]'
      - icon_color: "{% set v = states(entity) | float(0) %} [[icon_color_spec]]"
      - primary: '[[primary]]'
      - tap_action:
          - tap_action
      - temp_unit: '[[temp_unit]]'
      - secondary_state: '[[secondary_state]]'
data_rate_card:
  card:
    type: custom:decluttering-card
    template: numeric_color_card
    variables:
      - entity: '[[entity]]'
      - icon: '[[icon]]'
      - icon_color_spec: >-
          {% set m = '[[max_speed]]'|float(0) %}{% if v > 0.8*m %}green{% elif v
          > 0.5*m %}yellow{% elif v > 0.2*m %}orange{% elif v > 0.05*m %}red{%
          else %}grey{% endif %}
      - primary: '[[primary]]'
      - secondary_state: >-
          {% set m = '[[max_speed]]'|float(0) %} {% if v > 0.8*m %}Excellent{%
          elif v > 0.5*m %}Good{% elif v > 0.2*m %}Fair{% elif v > 0.05*m
          %}Poor{% else %}Offline{% endif %}
      - multiline_secondary: true
latency_card:
  card:
    type: custom:decluttering-card
    template: numeric_color_card
    variables:
      - entity: '[[entity]]'
      - icon: mdi:speedometer
      - icon_color_spec: >-
          {% if v < 20 %}green {% elif v < 60 %}yellow{% elif v < 120
          %}orange{% else %}red{% endif %}
      - primary: '[[primary]]'
      - secondary_state: >-
          {% set v = states(entity)|float(0) %}{% if v < 20 %}Excellent {%
          elif v < 60 %}Good {% elif v < 120 %}Fair {% else %}Poor {% endif %}
      - multiline_secondary: true
