{# Severity definitions for blood glucose concentration #}
{# Device: Capillary blood glucose #}
{# Typical applications: Clinical home monitoring #}

{% set lookup_unit = "mg/dL" %}
{% set levels = {
    "clinical_capillary": [
        {
            "min_value": none,
            "default_desc": "Unavailable",
            "short_desc": "Disabled",
            "long_desc": "Sensor unavailable",
            "icon": "mdi:eye-off",
            "color": "disabled",
            "badge": "mdi:circle",
            "full_desc": "Sensor not currently available."
        },
        {
            "min_value": 0,
            "default_desc": "Critical Low",
            "short_desc": "Crit Low",
            "long_desc": "Severe hypoglycemia",
            "icon": "mdi:alert",
            "color": "#dc2626",
            "full_desc": "Immediate attention required."
        },
        {
            "min_value": 70,
            "default_desc": "Low",
            "short_desc": "Low",
            "long_desc": "Hypoglycemia",
            "icon": "mdi:alert-circle",
            "color": "#f97316",
            "full_desc": "Treat low blood sugar."
        },
        {
            "min_value": 80,
            "default_desc": "Target",
            "short_desc": "Target",
            "long_desc": "Preferred fasting",
            "icon": "mdi:check-circle",
            "color": "#22c55e",
            "full_desc": "Common fasting target."
        },
        {
            "min_value": 140,
            "default_desc": "Elevated",
            "short_desc": "Elev",
            "long_desc": "Postprandial high",
            "icon": "mdi:trending-up",
            "color": "#eab308",
            "full_desc": "Monitor after meals."
        },
        {
            "min_value": 180,
            "default_desc": "High",
            "short_desc": "High",
            "long_desc": "Hyperglycemia",
            "icon": "mdi:alert-octagon",
            "color": "#dc2626",
            "full_desc": "Consult treatment plan."
        }
    ]
} %}

{% macro get_dc_context() %}
    {{ {'lookup_unit': lookup_unit, 'levels': levels} | tojson }}
{% endmacro %}
