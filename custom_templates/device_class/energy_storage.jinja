{# Severity definitions for energy storage #}
{# Device: Stored electrical energy capacity #}
{# Typical applications: UPS batteries, tool packs #}

{% set lookup_unit = "Wh" %}
{% set levels = {
    "ups_battery": [
        {
            "min_value": none,
            "default_desc": "Unavailable",
            "short_desc": "Disabled",
            "long_desc": "Sensor unavailable",
            "icon": "mdi:eye-off",
            "color": "disabled",
            "badge": "mdi:circle",
            "full_desc": "Sensor not currently available."
        },
        {
            "min_value": 0,
            "default_desc": "Empty",
            "short_desc": "Empty",
            "long_desc": "Depleted",
            "icon": "mdi:battery-alert",
            "color": "#dc2626",
            "full_desc": "Shutdown imminent."
        },
        {
            "min_value": 50,
            "default_desc": "Low",
            "short_desc": "Low",
            "long_desc": "Low energy",
            "icon": "mdi:battery-low",
            "color": "#f97316",
            "full_desc": "Limited runtime."
        },
        {
            "min_value": 200,
            "default_desc": "Medium",
            "short_desc": "Med",
            "long_desc": "Medium",
            "icon": "mdi:battery-medium",
            "color": "#eab308",
            "full_desc": "Moderate runtime."
        },
        {
            "min_value": 500,
            "default_desc": "High",
            "short_desc": "High",
            "long_desc": "High",
            "icon": "mdi:battery-high",
            "color": "#22c55e",
            "full_desc": "Healthy reserve."
        },
        {
            "min_value": 1000,
            "default_desc": "Full",
            "short_desc": "Full",
            "long_desc": "Full",
            "icon": "mdi:battery",
            "color": "#10b981",
            "full_desc": "Long runtime."
        }
    ],
    "power_tool_pack": [
        {
            "min_value": none,
            "default_desc": "Unavailable",
            "short_desc": "Disabled",
            "long_desc": "Sensor unavailable",
            "icon": "mdi:eye-off",
            "color": "disabled",
            "badge": "mdi:circle",
            "full_desc": "Sensor not currently available."
        },
        {
            "min_value": 0,
            "default_desc": "Empty",
            "short_desc": "Empty",
            "long_desc": "Depleted",
            "icon": "mdi:battery-alert",
            "color": "#dc2626",
            "full_desc": "Recharge now."
        },
        {
            "min_value": 50,
            "default_desc": "Low",
            "short_desc": "Low",
            "long_desc": "Low",
            "icon": "mdi:battery-low",
            "color": "#f97316",
            "full_desc": "Short run left."
        },
        {
            "min_value": 150,
            "default_desc": "OK",
            "short_desc": "OK",
            "long_desc": "Usable",
            "icon": "mdi:battery-medium",
            "color": "#22c55e",
            "full_desc": "Good for small jobs."
        },
        {
            "min_value": 250,
            "default_desc": "Full",
            "short_desc": "Full",
            "long_desc": "Full",
            "icon": "mdi:battery",
            "color": "#10b981",
            "full_desc": "Ready for long jobs."
        }
    ]
} %}

{% macro get_dc_context() %}
    {{ {'lookup_unit': lookup_unit, 'levels': levels} | tojson }}
{% endmacro %}
