{# Severity definitions for power measurements (HA device_class: power) #}

{# Power levels for various applications #}
{% set lookup_unit = 'W' %}
{% set levels = {
  "default": [
    {
      "min_value": 0,
      "default_desc": "Off",
      "short_desc": "Off",
      "long_desc": "No Power",
      "icon": "mdi:power-plug-off",
      "color": "#0f172a",
      "full_desc": "No measurable power draw; device off or disconnected."
    },
    {
      "min_value": 1,
      "default_desc": "Idle",
      "short_desc": "Idle",
      "long_desc": "Idle Load",
      "icon": "mdi:power-plug",
      "color": "#22c55e",
      "full_desc": "Minimal standby or idle consumption (<1–10 W)."
    },
    {
      "min_value": 10,
      "default_desc": "Light",
      "short_desc": "Light",
      "long_desc": "Light Load",
      "icon": "mdi:power-socket-us",
      "color": "#84cc16",
      "full_desc": "Light active power draw (10–100 W); small devices or energy-saving mode."
    },
    {
      "min_value": 100,
      "default_desc": "Moderate",
      "short_desc": "Moderate",
      "long_desc": "Moderate Load",
      "icon": "mdi:power-socket-us",
      "color": "#eab308",
      "full_desc": "Normal operating range (100–500 W); typical computers, appliances, or TVs."
    },
    {
      "min_value": 500,
      "default_desc": "High",
      "short_desc": "High",
      "long_desc": "High Load",
      "icon": "mdi:flash",
      "color": "#f97316",
      "full_desc": "High power demand (500–1000 W); heaters, gaming rigs, or servers under load."
    },
    {
      "min_value": 1000,
      "default_desc": "Very High",
      "short_desc": "V High",
      "long_desc": "Very High Load",
      "icon": "mdi:flash",
      "color": "#dc2626",
      "full_desc": "Heavy loads (1–2 kW); multiple appliances or HVAC equipment."
    },
    {
      "min_value": 2000,
      "default_desc": "Overload",
      "short_desc": "Overload",
      "long_desc": "Overload Condition",
      "icon": "mdi:alert-octagon",
      "color": "#7c3aed",
      "full_desc": "Dangerous consumption (>2 kW); risk of tripping breakers or overheating wiring."
    }
  ],
  "core_power": [
    {
      "min_value": none,
      "default_desc":"Unavailable",
      "short_desc":"N/A",
      "long_desc":"Core power unavailable",
      "icon":"mdi:close-circle",
      "color":"Disabled",
      "full_desc":"No reading from core power sensor."
    },
    {
      "min_value": 0.0,
      "default_desc":"Idle",
      "short_desc":"Idle",
      "long_desc":"No core power draw",
      "icon":"mdi:flash-off",
      "color":"#9ca3af",
      "full_desc":"Core is not consuming power."
    },
    {
      "min_value": 1.0,
      "default_desc":"Very Low",
      "short_desc":"V Low",
      "long_desc":"Very low power draw",
      "icon":"mdi:flash",
      "color":"#84cc16",
      "full_desc":"Cores idling in low-power states (<1–5 W)."
    },
    {
      "min_value": 5.0,
      "default_desc":"Moderate",
      "short_desc":"Mod",
      "long_desc":"Moderate core power",
      "icon":"mdi:flash",
      "color":"#facc15",
      "full_desc":"Typical load range (5–20 W per core)."
    },
    {
      "min_value": 20.0,
      "default_desc":"High",
      "short_desc":"High",
      "long_desc":"High core power",
      "icon":"mdi:flash",
      "color":"#f59e0b",
      "full_desc":"Heavy load or turbo region (20–40 W per core)."
    },
    {
      "min_value": 40.0,
      "default_desc":"Extreme",
      "short_desc":"Extreme",
      "long_desc":"Extreme core power",
      "icon":"mdi:alert-octagon",
      "color":"#dc2626",
      "full_desc":">40 W per core; may indicate overvoltage or runaway load."
    }
  ],
} %}


{% macro get_dc_context() %}{{- {'lookup_unit': lookup_unit, 'levels': levels} | tojson -}}{% endmacro %}
