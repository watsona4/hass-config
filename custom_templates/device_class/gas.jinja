{# ======================================================================
  Device class: gas
  Apps:
    - default : absolute gas volume over a period (chunk/interval)
    - daily   : TOTAL GAS VOLUME PER DAY (utility meter daily rollup)

  Notes:
    - Matching uses lookup_unit "m³". Your u_convert will normalize L, ft³, and CCF.
====================================================================== #}

{% set lookup_unit = "m³" %}

{% set levels = {
    "default": [
        {
            "min_value": none,
            "default_desc":"Unavailable",
            "short_desc":"N/A",
            "long_desc":"Volume reading unavailable",
            "icon":"mdi:close-circle",
            "color":"disabled",
            "full_desc":"No reading from gas meter.",
        },
        {
            "min_value": 0.0,
            "default_desc":"None",
            "short_desc":"None",
            "long_desc":"No consumption",
            "icon":"mdi:gas-cylinder",
            "color":"#9ca3af",
            "full_desc":"No volume recorded.",
        },
        {
            "min_value": 0.02,
            "default_desc":"Very Low",
            "short_desc":"V Low",
            "long_desc":"Very low usage",
            "icon":"mdi:fire",
            "color":"#84cc16",
            "full_desc":"Brief burner cycle.",
        },
        {
            "min_value": 0.10,
            "default_desc":"Low",
            "short_desc":"Low",
            "long_desc":"Low usage",
            "icon":"mdi:stove",
            "color":"#facc15",
            "full_desc":"Cooking or short water-heat cycle.",
        },
        {
            "min_value": 0.30,
            "default_desc":"Moderate",
            "short_desc":"Mod",
            "long_desc":"Moderate usage",
            "icon":"mdi:water-boiler",
            "color":"#f59e0b",
            "full_desc":"Multiple short cycles.",
        },
        {
            "min_value": 0.60,
            "default_desc":"High",
            "short_desc":"High",
            "long_desc":"High usage",
            "icon":"mdi:hvac",
            "color":"#fb923c",
            "full_desc":"Sustained heating demand.",
        },
        {
            "min_value": 1.00,
            "default_desc":"Very High",
            "short_desc":"V High",
            "long_desc":"Very high usage",
            "icon":"mdi:fire",
            "color":"#ef4444",
            "full_desc":"Long heat call or multiple appliances.",
        },
        {
            "min_value": 2.00,
            "default_desc":"Extreme",
            "short_desc":"Extreme",
            "long_desc":"Extremely high",
            "icon":"mdi:alert",
            "color":"#dc2626",
            "full_desc":"Likely abnormal for this interval.",
        },
        {
            "min_value": 4.00,
            "default_desc":"Massive",
            "short_desc":"Massive",
            "long_desc":"Massive volume",
            "icon":"mdi:alert",
            "color":"#7c3aed",
            "full_desc":"Investigate immediately.",
        }
    ],
    "daily": [
        {
            "min_value": none,
            "default_desc":"Unavailable",
            "short_desc":"N/A",
            "long_desc":"Daily volume unavailable",
            "icon":"mdi:close-circle",
            "color":"disabled",
            "full_desc":"No daily total reported.",
        },
        {
            "min_value": 0.0,
            "default_desc":"None",
            "short_desc":"None",
            "long_desc":"No daily use",
            "icon":"mdi:gas-cylinder",
            "color":"#9ca3af",
            "full_desc":"Zero m³ today.",
        },
        {
            "min_value": 0.10,
            "default_desc":"Very Low",
            "short_desc":"V Low",
            "long_desc":"Very low daily use",
            "icon":"mdi:stove",
            "color":"#84cc16",
            "full_desc":"Cooking-only day.",
        },
        {
            "min_value": 0.50,
            "default_desc":"Low",
            "short_desc":"Low",
            "long_desc":"Low daily use",
            "icon":"mdi:water-boiler",
            "color":"#facc15",
            "full_desc":"Water heating only.",
        },
        {
            "min_value": 1.00,
            "default_desc":"Moderate",
            "short_desc":"Mod",
            "long_desc":"Typical daily use",
            "icon":"mdi:hvac",
            "color":"#f59e0b",
            "full_desc":"Light space heating.",
        },
        {
            "min_value": 2.00,
            "default_desc":"High",
            "short_desc":"High",
            "long_desc":"High daily use",
            "icon":"mdi:hvac",
            "color":"#fb923c",
            "full_desc":"Normal winter day.",
        },
        {
            "min_value": 3.50,
            "default_desc":"Very High",
            "short_desc":"V High",
            "long_desc":"Very high daily use",
            "icon":"mdi:fire",
            "color":"#ef4444",
            "full_desc":"Cold-day demand.",
        },
        {
            "min_value": 5.00,
            "default_desc":"Extreme",
            "short_desc":"Extreme",
            "long_desc":"Extremely high",
            "icon":"mdi:alert",
            "color":"#dc2626",
            "full_desc":"Unusual for residence.",
        },
        {
            "min_value": 8.00,
            "default_desc":"Massive",
            "short_desc":"Massive",
            "long_desc":"Massive daily total",
            "icon":"mdi:alert",
            "color":"#7c3aed",
            "full_desc":"Investigate immediately.",
        }
    ],
    "daily_appliance": [
        {
            "min_value": none,
            "default_desc":"Unavailable",
            "short_desc":"N/A",
            "long_desc":"Daily volume unavailable",
            "icon":"mdi:close-circle",
            "color":"disabled",
            "full_desc":"No daily total reported for this appliance.",
        },
        {
            "min_value": 0.0,
            "default_desc":"None",
            "short_desc":"None",
            "long_desc":"No daily use",
            "icon":"mdi:gas-cylinder",
            "color":"#9ca3af",
            "full_desc":"Zero m³ today.",
        },
        {
            "min_value": 0.02,
            "default_desc":"Very Low",
            "short_desc":"V Low",
            "long_desc":"Very low daily use",
            "icon":"mdi:stove",
            "color":"#84cc16",
            "full_desc":"Brief burner use.",
        },
        {
            "min_value": 0.10,
            "default_desc":"Low",
            "short_desc":"Low",
            "long_desc":"Low daily use",
            "icon":"mdi:water-boiler",
            "color":"#facc15",
            "full_desc":"Light cooking or short WH cycle.",
        },
        {
            "min_value": 0.30,
            "default_desc":"Moderate",
            "short_desc":"Mod",
            "long_desc":"Moderate daily use",
            "icon":"mdi:water-boiler",
            "color":"#f59e0b",
            "full_desc":"Normal hot-water day or oven use.",
        },
        {
            "min_value": 0.60,
            "default_desc":"High",
            "short_desc":"High",
            "long_desc":"High daily use",
            "icon":"mdi:fire",
            "color":"#fb923c",
            "full_desc":"Multiple cycles or long oven session.",
        },
        {
            "min_value": 1.00,
            "default_desc":"Very High",
            "short_desc":"V High",
            "long_desc":"Very high daily use",
            "icon":"mdi:fire",
            "color":"#ef4444",
            "full_desc":"Heavy demand for this appliance.",
        },
        {
            "min_value": 2.00,
            "default_desc":"Extreme",
            "short_desc":"Extreme",
            "long_desc":"Extremely high",
            "icon":"mdi:alert",
            "color":"#dc2626",
            "full_desc":"Unusual for a single appliance.",
        },
        {
            "min_value": 4.00,
            "default_desc":"Massive",
            "short_desc":"Massive",
            "long_desc":"Massive daily total",
            "icon":"mdi:alert",
            "color":"#7c3aed",
            "full_desc":"Check for faults or leaks.",
        }
    ],
} %}

{% macro get_dc_context() %}
    {{ {'lookup_unit': lookup_unit, 'levels': levels} | tojson }}
{% endmacro %}
