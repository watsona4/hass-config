{# Severity definitions for irradiance #}
{# Device: Solar irradiance on a plane #}
{# Typical applications: PV arrays, UV exposure proxy #}

{% set lookup_unit = "W/mÂ²" %}
{% set levels = {
    "pv_array": [
        {
            "min_value": none,
            "default_desc": "Unavailable",
            "short_desc": "Disabled",
            "long_desc": "Sensor unavailable",
            "icon": "mdi:eye-off",
            "color": "disabled",
            "badge": "mdi:circle",
            "full_desc": "Sensor not currently available."
        },
        {
            "min_value": 0,
            "default_desc": "Dark",
            "short_desc": "Dark",
            "long_desc": "No sun",
            "icon": "mdi:weather-night",
            "color": "#0f172a",
            "full_desc": "Night or heavy shade."
        },
        {
            "min_value": 50,
            "default_desc": "Low",
            "short_desc": "Low",
            "long_desc": "Low light",
            "icon": "mdi:weather-partly-cloudy",
            "color": "#60a5fa",
            "full_desc": "Cloudy or early."
        },
        {
            "min_value": 200,
            "default_desc": "Moderate",
            "short_desc": "Mod",
            "long_desc": "Moderate light",
            "icon": "mdi:white-balance-sunny",
            "color": "#eab308",
            "full_desc": "Partial output."
        },
        {
            "min_value": 600,
            "default_desc": "High",
            "short_desc": "High",
            "long_desc": "Strong sun",
            "icon": "mdi:solar-power",
            "color": "#22c55e",
            "full_desc": "Good production."
        },
        {
            "min_value": 900,
            "default_desc": "Peak",
            "short_desc": "Peak",
            "long_desc": "Near peak",
            "icon": "mdi:solar-power-variant-outline",
            "color": "#10b981",
            "full_desc": "Peak midday sun."
        }
    ],
    "uv_proxy": [
        {
            "min_value": none,
            "default_desc": "Unavailable",
            "short_desc": "Disabled",
            "long_desc": "Sensor unavailable",
            "icon": "mdi:eye-off",
            "color": "disabled",
            "badge": "mdi:circle",
            "full_desc": "Sensor not currently available."
        },
        {
            "min_value": 0,
            "default_desc": "Minimal",
            "short_desc": "Min",
            "long_desc": "Minimal exposure",
            "icon": "mdi:weather-night",
            "color": "#60a5fa",
            "full_desc": "Low UV risk."
        },
        {
            "min_value": 200,
            "default_desc": "Moderate",
            "short_desc": "Mod",
            "long_desc": "Moderate exposure",
            "icon": "mdi:white-balance-sunny",
            "color": "#eab308",
            "full_desc": "Use protection if long exposure."
        },
        {
            "min_value": 500,
            "default_desc": "High",
            "short_desc": "High",
            "long_desc": "High exposure",
            "icon": "mdi:white-balance-sunny",
            "color": "#f97316",
            "full_desc": "Protection recommended."
        }
    ]
} %}

{% macro get_dc_context() %}
    {{ {'lookup_unit': lookup_unit, 'levels': levels} | tojson }}
{% endmacro %}
