{# Severity definitions for date age #}
{# Device: Time since a timestamp, used as data freshness #}
{# Typical applications: Sensor data age, cache validation #}

{% set lookup_unit = "s" %}
{% set levels = {
    "data_age": [
        {
            "min_value": none,
            "default_desc": "Unavailable",
            "short_desc": "Disabled",
            "long_desc": "Sensor unavailable",
            "icon": "mdi:eye-off",
            "color": "disabled",
            "badge": "mdi:circle",
            "full_desc": "Sensor not currently available."
        },
        {
            "min_value": 0,
            "default_desc": "Fresh",
            "short_desc": "Fresh",
            "long_desc": "Updated recently",
            "icon": "mdi:update",
            "color": "#22c55e",
            "full_desc": "Age under 1 minute."
        },
        {
            "min_value": 60,
            "default_desc": "Recent",
            "short_desc": "Recent",
            "long_desc": "Within 1 hour",
            "icon": "mdi:clock-outline",
            "color": "#10b981",
            "full_desc": "Age under 1 hour."
        },
        {
            "min_value": 3600,
            "default_desc": "Stale",
            "short_desc": "Stale",
            "long_desc": "Over 1 hour old",
            "icon": "mdi:clock-alert",
            "color": "#eab308",
            "full_desc": "Consider checking source."
        },
        {
            "min_value": 86400,
            "default_desc": "Old",
            "short_desc": "Old",
            "long_desc": "Over 1 day old",
            "icon": "mdi:alert",
            "color": "#f97316",
            "full_desc": "Likely outdated."
        },
        {
            "min_value": 604800,
            "default_desc": "Expired",
            "short_desc": "Expired",
            "long_desc": "Over 1 week old",
            "icon": "mdi:alert-octagon",
            "color": "#dc2626",
            "full_desc": "Do not trust without verification."
        }
    ]
} %}

{% macro get_dc_context() %}
    {{ {'lookup_unit': lookup_unit, 'levels': levels} | tojson }}
{% endmacro %}
