{# ======================================================================
  Device class: duration
  App(s): 
    - latency   → network latency / round-trip time
  Notes:
    - lookup_unit is "s" so thresholds are consistent regardless of sensor uom
    - Unavailable row is provided (min_value = none) and your helpers should
      ignore it for matching when the entity is available.
====================================================================== #}

{% set lookup_unit = "s" %}

{% set levels = {
    "latency": [
        {
            "min_value": none,
            "default_desc": "Unavailable",
            "short_desc": "N/A",
            "long_desc": "Latency unavailable",
            "icon": "mdi:close-circle",
            "color": "Disabled",
            "full_desc": "Latency sensor is disabled or not reporting."
        },
        {
            "min_value": 0,
            "default_desc": "Excellent",
            "short_desc": "Excel",
            "long_desc": "Instant response feel",
            "icon": "mdi:lan-check",
            "color": "#10b981",
            "full_desc": "Sub-20 ms typical; interactive apps feel instantaneous."
        },
        {
            "min_value": 0.020,
            "default_desc": "Good",
            "short_desc": "Good",
            "long_desc": "Very responsive",
            "icon": "mdi:lan",
            "color": "#84cc16",
            "full_desc": "20–50 ms; snappy web browsing, video calls generally smooth."
        },
        {
            "min_value": 0.050,
            "default_desc": "Moderate",
            "short_desc": "Mod",
            "long_desc": "Noticeable delay",
            "icon": "mdi:lan",
            "color": "#facc15",
            "full_desc": "50–100 ms; slight delay noticeable in calls and gaming."
        },
        {
            "min_value": 0.100,
            "default_desc": "Poor",
            "short_desc": "Poor",
            "long_desc": "Laggy interactions",
            "icon": "mdi:lan-pending",
            "color": "#f59e0b",
            "full_desc": "100–200 ms; lag becomes apparent, real-time apps degrade."
        },
        {
            "min_value": 0.200,
            "default_desc": "Bad",
            "short_desc": "Bad",
            "long_desc": "Heavy lag",
            "icon": "mdi:lan-disconnect",
            "color": "#ef4444",
            "full_desc": "200–500 ms; choppy calls, sluggish remote sessions."
        },
        {
            "min_value": 0.500,
            "default_desc": "Unusable",
            "short_desc": "Unusbl",
            "long_desc": "Near-timeout conditions",
            "icon": "mdi:alert-octagon",
            "color": "#b91c1c",
            "full_desc": "≥500 ms; timeouts likely, real-time use impractical."
        }
    ],
    "uptime": [
        {
            "min_value": none,
            "default_desc": "Unavailable",
            "short_desc": "Disabled",
            "long_desc": "Uptime sensor unavailable",
            "icon": "mdi:eye-off",
            "color": "disabled",
            "full_desc": "Uptime data not currently available."
        },
        {
            "min_value": 0,
            "default_desc": "Just Started",
            "short_desc": "0s+",
            "long_desc": "Fresh Start",
            "icon": "mdi:power",
            "color": "#7e0023",
            "full_desc": "System has only just started running."
        },
        {
            "min_value": 3600,
            "default_desc": "Stable",
            "short_desc": "1h+",
            "long_desc": "Stable Runtime",
            "icon": "mdi:clock-outline",
            "color": "#ff9933",
            "full_desc": "System has been running for at least an hour; initial stabilization complete."
        },
        {
            "min_value": 86400,
            "default_desc": "",
            "short_desc": "1d+",
            "long_desc": "One Day Uptime",
            "icon": "mdi:calendar-clock",
            "color": "#ffde33",
            "full_desc": "System has been running for at least one full day."
        },
        {
            "min_value": 604800,
            "default_desc": "> One Week",
            "short_desc": "1w+",
            "long_desc": "One Week Uptime",
            "icon": "mdi:calendar-week",
            "color": "#00e400",
            "full_desc": "System has been running for at least one week without interruption."
        },
        {
            "min_value": 2592000,
            "default_desc": "> One Month",
            "short_desc": "1m+",
            "long_desc": "One Month Uptime",
            "icon": "mdi:calendar-month",
            "color": "#009966",
            "full_desc": "System has been running for over a month continuously."
        }
    ],
} %}

{# Expose to main.jinja via your standard context getter #}
{% macro get_dc_context() %}
    {{- {'lookup_unit': lookup_unit, 'levels': levels} | tojson -}}
{% endmacro %}
