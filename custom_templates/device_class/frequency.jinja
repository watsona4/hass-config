{# Severity definitions for frequency measurements (HA device_class: frequency) #}

{# Frequency levels based on application context #}
{% set lookup_unit = 'Hz' %}
{% set levels = {
  "power_grid": [
    {
      "min_value": 0,
      "default_desc": "No Signal",
      "short_desc": "None",
      "long_desc": "No Frequency Detected",
      "icon": "mdi:close-octagon",
      "color": "#0f172a",
      "full_desc": "No oscillation detected; source unpowered or sensor unavailable."
    },
    {
      "min_value": 49,
      "default_desc": "Underspeed (Grid)",
      "short_desc": "Low Hz",
      "long_desc": "AC Grid Underspeed",
      "icon": "mdi:alert",
      "color": "#f97316",
      "full_desc": "Utility frequency below tolerance (<49 Hz in 50 Hz regions)."
    },
    {
      "min_value": 49.5,
      "default_desc": "Nominal 50 Hz",
      "short_desc": "50 Hz",
      "long_desc": "Nominal Utility Frequency",
      "icon": "mdi:sine-wave",
      "color": "#22c55e",
      "full_desc": "AC grid within normal operating frequency (~50 Hz)."
    },
    {
      "min_value": 60,
      "default_desc": "Nominal 60 Hz",
      "short_desc": "60 Hz",
      "long_desc": "Nominal Utility Frequency",
      "icon": "mdi:sine-wave",
      "color": "#22c55e",
      "full_desc": "AC grid within normal operating frequency (~60 Hz)."
    },
    {
      "min_value": 61,
      "default_desc": "Overspeed (Grid)",
      "short_desc": "High Hz",
      "long_desc": "AC Grid Overspeed",
      "icon": "mdi:alert",
      "color": "#dc2626",
      "full_desc": "Utility frequency above tolerance (>61 Hz)."
    }
  ],

  "signal_bands": [
    {
      "min_value": 0,
      "default_desc": "Sub-audio",
      "short_desc": "Sub",
      "long_desc": "Sub-Audio Frequencies",
      "icon": "mdi:waveform",
      "color": "#64748b",
      "full_desc": "Very low frequencies below human hearing (<20 Hz)."
    },
    {
      "min_value": 20,
      "default_desc": "Audio",
      "short_desc": "Audio",
      "long_desc": "Audio Band",
      "icon": "mdi:waveform",
      "color": "#84cc16",
      "full_desc": "Human hearing range (~20 Hz–20 kHz)."
    },
    {
      "min_value": 20_000,
      "default_desc": "Radio",
      "short_desc": "RF",
      "long_desc": "Radio Frequencies",
      "icon": "mdi:radio-tower",
      "color": "#3b82f6",
      "full_desc": "kHz–MHz region for broadcast and communications."
    },
    {
      "min_value": 1_000_000_000,
      "default_desc": "Microwave",
      "short_desc": "MW",
      "long_desc": "Microwave Frequencies",
      "icon": "mdi:radar",
      "color": "#7c3aed",
      "full_desc": "Gigahertz range; Wi-Fi, radar, microwave links."
    }
  ],
  "cpu_clock": [
    {
      "min_value": 0,
      "default_desc": "Stopped",
      "short_desc": "Stopped",
      "long_desc": "CPU Halted",
      "icon": "mdi:cpu-64-bit",
      "color": "#0f172a",
      "full_desc": "No clock; CPU off or deep sleep."
    },
    {
      "min_value": 500_000_000,
      "default_desc": "Low Power",
      "short_desc": "Low",
      "long_desc": "Low CPU Clock",
      "icon": "mdi:cpu-64-bit",
      "color": "#22c55e",
      "full_desc": "Reduced speed (<1.5 GHz) for idle/energy saving."
    },
    {
      "min_value": 1_500_000_000,
      "default_desc": "Nominal",
      "short_desc": "Nominal",
      "long_desc": "Base CPU Clock",
      "icon": "mdi:cpu-64-bit",
      "color": "#84cc16",
      "full_desc": "Typical base frequency (1.5–3.0 GHz)."
    },
    {
      "min_value": 3_000_000_000,
      "default_desc": "High",
      "short_desc": "High",
      "long_desc": "Boosted CPU Clock",
      "icon": "mdi:cpu-64-bit",
      "color": "#eab308",
      "full_desc": "Above base (3.0–4.0 GHz)."
    },
    {
      "min_value": 4_000_000_000,
      "default_desc": "Very High",
      "short_desc": "V High",
      "long_desc": "Turbo/OC CPU Clock",
      "icon": "mdi:cpu-64-bit",
      "color": "#f97316",
      "full_desc": "Turbo/overclock region (4.0–5.0 GHz)."
    },
    {
      "min_value": 5_000_000_000,
      "default_desc": "Extreme",
      "short_desc": "Extreme",
      "long_desc": "Extreme CPU Clock",
      "icon": "mdi:alert-octagon",
      "color": "#dc2626",
      "full_desc": "Beyond typical safe range (>5.0 GHz)."
    }
  ],
  "core_frequency": [
    {
      "min_value": none,
      "default_desc":"Unavailable",
      "short_desc":"N/A",
      "long_desc":"Core frequency unavailable",
      "icon":"mdi:close-circle",
      "color":"Disabled",
      "full_desc":"No reading from core clock sensor."
    },
    {
      "min_value": 0,
      "default_desc":"Stopped",
      "short_desc":"Stopped",
      "long_desc":"Core halted",
      "icon":"mdi:cpu-64-bit",
      "color":"#9ca3af",
      "full_desc":"No clock signal; core parked or off."
    },
    {
      "min_value": 500000000,
      "default_desc":"Low Power",
      "short_desc":"Low",
      "long_desc":"Low frequency",
      "icon":"mdi:cpu-64-bit",
      "color":"#84cc16",
      "full_desc":"~0.5–1.5 GHz; idle or power-saving P-states."
    },
    {
      "min_value": 1500000000,
      "default_desc":"Nominal",
      "short_desc":"Nominal",
      "long_desc":"Nominal frequency",
      "icon":"mdi:cpu-64-bit",
      "color":"#22c55e",
      "full_desc":"1.5–3.0 GHz; normal base operation."
    },
    {
      "min_value": 3000000000,
      "default_desc":"High",
      "short_desc":"High",
      "long_desc":"High frequency",
      "icon":"mdi:cpu-64-bit",
      "color":"#eab308",
      "full_desc":"3.0–4.0 GHz; boosted or turbo region."
    },
    {
      "min_value": 4000000000,
      "default_desc":"Very High",
      "short_desc":"V High",
      "long_desc":"Very high frequency",
      "icon":"mdi:cpu-64-bit",
      "color":"#f97316",
      "full_desc":"4.0–5.0 GHz; aggressive boost/overclock."
    },
    {
      "min_value": 5000000000,
      "default_desc":"Extreme",
      "short_desc":"Extreme",
      "long_desc":"Extreme frequency",
      "icon":"mdi:alert-octagon",
      "color":"#dc2626",
      "full_desc":">5.0 GHz; risk of instability or overheating."
    }
  ],
} %}

{% macro get_dc_context() %}
    {{- {'lookup_unit': lookup_unit, 'levels': levels} | tojson -}}
{% endmacro %}
