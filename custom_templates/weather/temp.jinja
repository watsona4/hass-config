{# # File: config/custom_templates/air_temp.jinja ## #}
{# Macros for Air Temperature levels, names, icons, colors, and guidance #}

{% from 'helpers.jinja' import level_find, convert_temp_value %}

{# Breakpoints for Air Temperature levels, in Â°C (lower bounds of each band) #}
{# Bands: Frigid, Freezing, Very Cold, Cold, Cool, Mild, Warm, Hot, Extreme Heat #}
{% set bps = [-50, -20, -10, 0, 10, 18, 24, 30, 35] %}

{# Names for Air Temperature levels #}
{% set names = ["Frigid", "Freezing", "Very Cold", "Cold", "Cool", "Mild", "Warm", "Hot", "Extreme Heat"] %}

{# Short names for compact UIs #}
{% set shorts = ["Frigid", "Freezing", "V Cold", "Cold", "Cool", "Mild", "Warm", "Hot", "Ex Heat"] %}

{# Long names for descriptive titles #}
{% set longs = [
    "Frigid Air",
    "Freezing Air",
    "Very Cold Air",
    "Cold Air",
    "Cool Air",
    "Mild Air",
    "Warm Air",
    "Hot Air",
    "Extreme Heat"
] %}

{# Icons for Air Temperature levels #}
{% set icons = [
    "mdi:snowflake-alert",
    "mdi:snowflake",
    "mdi:snowflake-variant",
    "mdi:thermometer-low",
    "mdi:thermometer-minus",
    "mdi:thermometer",
    "mdi:thermometer-plus",
    "mdi:thermometer-high",
    "mdi:fire"
] %}

{# Colors for Air Temperature levels (cool blues to hot reds) #}
{% set colors = ['#0b3d91', '#1e40af', '#3b82f6', '#60a5fa', '#34d399', '#10b981', '#fbbf24', '#f59e0b', '#dc2626', 'disabled'] %}

{# Descriptions for each level #}
{% set descriptions = [
    "Dangerously cold, minimize time outside; cover skin to reduce frostbite risk.",
    "Very cold, limit exposure; heavy layers, hat, and gloves recommended.",
    "Cold, wear warm layers; protect ears and hands.",
    "Chilly, a jacket or sweater is comfortable.",
    "Cool, light layer may be needed.",
    "Mild, comfortable for most activities.",
    "Warm, hydrate and take breaks in shade.",
    "Hot, reduce strenuous activity; seek shade and hydrate often.",
    "Extreme heat, avoid peak sun; hydrate, rest, and monitor for heat stress."
] %}

{# Wrappers for standard functions #}
{# djlint:off #}
{% macro level(t, unit='f') %}{{ level_find(convert_temp_value(t, unit, 'c')|float, bps) }}{% endmacro %}
{% macro name(t, unit='f') %}{{ names[level(t, unit)|int - 1] }}{% endmacro %}
{% macro short(t, unit='f') %}{{ shorts[level(t, unit)|int - 1] }}{% endmacro %}
{% macro long(t, unit='f') %}{{ longs[level(t, unit)|int - 1] }}{% endmacro %}
{% macro icon(t, unit='f') %}{{ icons[level(t, unit)|int - 1] }}{% endmacro %}
{% macro desc(t, unit='f') %}{{ descriptions[level(t, unit)|int - 1] }}{% endmacro %}
{% macro color(t, unit='f') %}{{ colors[level(t, unit)|int - 1] }}{% endmacro %}
{# djlint:on #}
